@using DoAnCNPM.Models;
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}



@{
    ViewBag.Title = "Trang chủ";
<<<<<<< Updated upstream
=======
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";

    var categorizedProducts = ViewBag.CategorizedProducts as Dictionary<string, List<SANPHAM>>
                                ?? new Dictionary<string, List<SANPHAM>>();

    var dbCategories = categorizedProducts.Keys.ToList();
>>>>>>> Stashed changes
}

<style>
    .banner img {
        width: 100%;
        border-radius: 8px;
    }

    .categories {
        display: flex;
        justify-content: center;
        gap: 25px;
        margin: 25px 0;
    }

<<<<<<< Updated upstream
    .category-item {
=======
    .main {
        display: grid;
        grid-template-columns: 220px 1fr;
        gap: 15px;
        margin-top: 15px;
    }

    /* ===== SIDEBAR (ĐÃ HỢP NHẤT VÀ TỐI ƯU) ===== */
    .sidebar {
        /* Nền trắng, nổi bật, có viền */
        background: #fff;
        border: 1px solid #ddd; /* Viền nhẹ */
        border-radius: 8px;
        height: fit-content;
        padding: 10px 0; /* Padding dọc để làm đẹp */
    }

        /* Tiêu đề Danh mục */
        .sidebar h4 {
            /* Loại bỏ background xanh lá cũ */
            margin: 0;
            padding: 10px 20px;
            color: #008000; /* Màu xanh lá cây nổi bật */
            font-size: 18px; /* Kích thước lớn hơn */
            font-weight: bold;
            border-bottom: 2px solid #008000; /* Đường viền dưới màu xanh */
            margin-bottom: 10px;
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

    /* Liên kết danh mục */
    .category-link {
        text-decoration: none;
        color: #333; /* Màu chữ mặc định tối */
        display: block;
        padding: 8px 20px; /* Tăng padding ngang để dễ bấm */
        transition: background-color 0.2s, color 0.2s;
        font-size: 14px;
    }

        .category-link:hover {
            background-color: #e0f2e0; /* Nền xanh nhạt khi hover */
            color: #008000; /* Chữ màu xanh nổi bật */
            font-weight: 500;
        }

    /* Loại bỏ CSS sidebar cũ để tránh ghi đè/mờ */
    /* ... (CSS cho BANNER, ICON ROW, CATEGORY SECTION, PRODUCTS giữ nguyên) ... */

    /* ===== BANNER ===== */
    .single-banner {
        margin-bottom: 15px;
        border-radius: 6px;
        overflow: hidden;
    }

        .single-banner img {
            width: 100%;
            display: block;
        }

    /* ===== ICON ROW ===== */
    .icon-row {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 10px;
        margin-bottom: 15px;
    }

    .icon-box {
        background: #fff;
        padding: 10px;
>>>>>>> Stashed changes
        text-align: center;
    }

        .category-item img {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid #0e4f1f;
        }

    .section-title {
        background: #0e4f1f;
        color: white;
        padding: 8px 15px;
        font-size: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 40px;
        border-radius: 4px;
    }

    .products {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 25px;
        margin-top: 20px;
    }

<<<<<<< Updated upstream
    .product-item img {
        width: 100%;
        height: 180px;
        object-fit: cover;
        border-radius: 6px;
    }

    .product-item .name {
        margin-top: 8px;
        font-weight: bold;
    }

    .product-item .price {
        color: red;
    }

    .block {
        height: 50px;
        background: #0e4f1f;
        margin-top: 20px;
        border-radius: 4px;
        display: flex;
        align-items: center;
        padding-left: 15px;
        color: white;
        justify-content: space-between;
    }

    /* Chia sẻ bí quyết */
    .tips-section {
        margin-top: 50px;
    }

    .tips-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 25px;
        margin-top: 20px;
    }

    .tips-item img {
        width: 100%;
        border-radius: 10px;
    }

    .tips-item .box {
        background: #d9f8d0;
        padding: 25px;
        border-radius: 10px;
    }
</style>

<!-- ==================== BANNER ==================== -->
<div class="banner">
    <img src="~/Images/bannerv2.png" />
</div>

<!-- ==================== DANH MỤC ==================== -->
<div class="categories">

    <div class="category-item">
        <img src="~/Images/raucu.png" />
        <div>rau củ</div>
    </div>

    <div class="category-item">
        <img src="~/Images/thitca.png" />
        <div>thịt cá</div>
    </div>

    <div class="category-item">
        <img src="~/Images/hoaqua.png" />
        <div>trái cây</div>
    </div>

    <div class="category-item">
        <img src="~/Images/thucphamkho.png" />
        <div>thực phẩm khô</div>
    </div>

    <div class="category-item">
        <img src="~/Images/douong.png" />
        <div>Sữa </div>
    </div>

    <div class="category-item">
        <img src="~/Images/dacsanvungmien.png" />
        <div>Bánh kẹo & snack</div>
    </div>

    <div class="category-item">
        <img src="~/Images/sanphamkhac.png" />
        <div>Khác</div>
    </div>

</div>

<!-- ==================== THỊT CÁ HẢI SẢN ==================== -->
<div class="section-title">
    <span>thịt, cá, hải sản</span>
    <a href="#" style="color:white;">xem tất cả ></a>
</div>

<div class="products">

    <div class="product-item">
        <img src="~/Images/cathu.png" />
        <div class="name">cá thu</div>
        <div class="price">120.000đ</div>
    </div>

    <div class="product-item">
        <img src="~/Images/basa.png" />
        <div class="name">cá basa</div>
        <div class="price">98.000đ</div>
    </div>

    <div class="product-item">
        <img src="~/Images/cahoi.png" />
        <div class="name">cá hồi</div>
        <div class="price">230.000đ</div>
    </div>
    
    <div class="product-item">
        <img src="~/Images/cangu.png" />
        <div class="name">cá ngừ</div>
        <div class="price">155.000đ</div>
    </div>

</div>

<!-- ==================== RAU CỦ ==================== -->
<div class="section-title">
    <span>rau củ</span>
    <a href="#" style="color:white;">xem tất cả ></a>
</div>

<div class="products">

    <div class="product-item">
        <img src="~/Images/cachua.png" />
        <div class="name">cà chua</div>
        <div class="price">20.000đ</div>
    </div>

    <div class="product-item">
        <img src="~/Images/dualeo.png" />
        <div class="name">dưa leo</div>
        <div class="price">15.000đ</div>
    </div>

    <div class="product-item">
        <img src="~/Images/bingo.png" />
        <div class="name">bí ngô</div>
        <div class="price">18.000đ</div>
    </div>

    <div class="product-item">
        <img src="~/Images/muop.png" />
        <div class="name">mướp</div>
        <div class="price">16.000đ</div>
    </div>

</div>

<!-- ==================== TRÁI CÂY ==================== -->
<div class="section-title">
    <span>trái cây</span>
    <a href="#" style="color:white;">xem tất cả ></a>
</div>

<div class="products">

    <div class="product-item">
        <img src="~/Images/oi.png" />
        <div class="name">ổi</div>
        <div class="price">25.000đ</div>
    </div>

    <div class="product-item">
        <img src="~/Images/sầu riêng.png" />
        <div class="name">sầu riêng</div>
        <div class="price">30.000đ</div>
    </div>

    <div class="product-item">
        <img src="~/Images/cam.png" />
        <div class="name">cam</div>
        <div class="price">35.000đ</div>
    </div>

    <div class="product-item">
        <img src="~/Images/buoi.png" />
        <div class="name">bưởi</div>
        <div class="price">40.000đ</div>
    </div>

</div>

<!-- ==================== BLOCK DANH MỤC KHÁC ==================== -->

<div class="block">Bánh kẹo & snack <a href="#" style="color:white; margin-right:15px;">xem tất cả ></a></div>
<div class="block">Thực phẩm khô <a href="#" style="color:white; margin-right:15px;">xem tất cả ></a></div>
<div class="block">Đồ uống, bơ sữa <a href="#" style="color:white; margin-right:15px;">xem tất cả ></a></div>
<div class="block">Sản phẩm khác <a href="#" style="color:white; margin-right:15px;">xem tất cả ></a></div>

=======
    .product {
        border: 1px solid #eee;
        border-radius: 4px;
        padding: 10px;
        font-size: 14px;
        transition: box-shadow .3s;
    }

        .product:hover {
            box-shadow: 0 2px 8px rgba(0,0,0,.1);
        }

        .product img {
            width: 100%;
            height: 150px;
            object-fit: contain;
        }

    .product-name {
        min-height: 40px;
        margin: 5px 0;
    }

    .price {
        color: #e53935;
        font-weight: bold;
    }

    /* CSS cho nút "Thêm vào Giỏ hàng" (Giữ nguyên) */
    .add-to-cart-btn {
        display: inline-block;
        padding: 7px 10px; /* Giảm padding cho thẻ sản phẩm */
        width: 100%;
        box-sizing: border-box; /* Quan trọng */
        text-align: center;
        text-decoration: none;
        font-weight: bold;
        cursor: pointer;
        background-color: #0a8f3c; /* Màu nền xanh lá */
        color: white;
        border: none;
        border-radius: 4px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        transition: background-color 0.3s ease;
        font-size: 14px;
        margin-top: 5px;
    }

        .add-to-cart-btn:hover {
            background-color: #087330; /* Màu xanh đậm hơn */
        }
</style>

<div class="container main">

    <div class="sidebar">
        <h4><i class="fas fa-list"></i> Danh mục sản phẩm</h4>
        <ul>
            @foreach (var category in dbCategories)
            {
                <li>
                    <a href="@Url.Action("SanPhamTheoLoai", "Home", new { tenLoai = category })" class="category-link">
                        @category
                    </a>
                </li>
            }
        </ul>
    </div>

    <div>

        <div class="single-banner">
            <a href="###">
                <img src="@Url.Content("~/Images/khuyenmai1.png")" alt="Banner Khuyến mãi" />
            </a>
        </div>

        @foreach (var categoryGroup in categorizedProducts)
        {
            <div class="category-section">
                <div class="section-title">@categoryGroup.Key</div>

                <div class="products">
                    @foreach (var product in categoryGroup.Value.Take(8))
                    {
                        <div class="product">
                            <a href="@Url.Action("Details", "Home", new { id = product.MASP })">
                                <img src="@Url.Content("~/Images/" + product.HINH)" alt="@product.TENSP" />
                            </a>
                            <div class="product-name">@product.TENSP</div>
                            <div class="price">@string.Format("{0:N0}đ", product.GIABAN)</div>

                            @* Thêm nút Mua nhanh (đã bao gồm strURL để quay lại) *@
                            <a href="@Url.Action("ThemGioHang", "Home", new { id = product.MASP, soLuong = 1, strURL = Request.Url.ToString() })" class="add-to-cart-btn">
                                🛒 Thêm vào Giỏ hàng
                            </a>
                        </div>
                    }
                </div>
            </div>
        }

    </div>
</div>
>>>>>>> Stashed changes
